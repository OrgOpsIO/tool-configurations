# ============================================
# DOCKERFILE BEISPIELE FÜR VERSCHIEDENE APP-TYPEN
# ============================================
# Kopieren Sie das passende Beispiel in Ihre App als "Dockerfile"
# oder passen Sie es an Ihre spezifischen Bedürfnisse an.

# ============================================
# BEISPIEL 1: Nuxt 3 App
# ============================================
# FROM node:20-alpine AS builder
# WORKDIR /app
# COPY package*.json ./
# RUN npm ci
# COPY . .
# RUN npm run build
# 
# FROM node:20-alpine
# WORKDIR /app
# COPY --from=builder /app/.output /app/.output
# COPY --from=builder /app/package*.json ./
# RUN npm ci --omit=dev
# EXPOSE 3000
# ENV HOST=0.0.0.0
# ENV PORT=3000
# CMD ["node", ".output/server/index.mjs"]

# ============================================
# BEISPIEL 2: Next.js App
# ============================================
# FROM node:20-alpine AS builder
# WORKDIR /app
# COPY package*.json ./
# RUN npm ci
# COPY . .
# RUN npm run build
# 
# FROM node:20-alpine
# WORKDIR /app
# COPY --from=builder /app/next.config.js ./
# COPY --from=builder /app/public ./public
# COPY --from=builder /app/.next/standalone ./
# COPY --from=builder /app/.next/static ./.next/static
# COPY --from=builder /app/package*.json ./
# EXPOSE 3000
# ENV PORT=3000
# ENV HOSTNAME=0.0.0.0
# CMD ["node", "server.js"]

# ============================================
# BEISPIEL 3: React/Vue SPA mit Nginx
# ============================================
# FROM node:20-alpine AS builder
# WORKDIR /app
# COPY package*.json ./
# RUN npm ci
# COPY . .
# RUN npm run build
# 
# FROM nginx:alpine
# COPY --from=builder /app/dist /usr/share/nginx/html
# COPY nginx.conf /etc/nginx/conf.d/default.conf
# EXPOSE 80
# CMD ["nginx", "-g", "daemon off;"]

# ============================================
# BEISPIEL 4: Node.js Express API
# ============================================
# FROM node:20-alpine
# WORKDIR /app
# COPY package*.json ./
# RUN npm ci --omit=dev
# COPY . .
# EXPOSE 3000
# ENV NODE_ENV=production
# CMD ["node", "index.js"]

# ============================================
# BEISPIEL 5: TypeScript Node.js App
# ============================================
# FROM node:20-alpine AS builder
# WORKDIR /app
# COPY package*.json tsconfig.json ./
# RUN npm ci
# COPY . .
# RUN npm run build
# 
# FROM node:20-alpine
# WORKDIR /app
# COPY --from=builder /app/dist ./dist
# COPY --from=builder /app/package*.json ./
# RUN npm ci --omit=dev
# EXPOSE 3000
# ENV NODE_ENV=production
# CMD ["node", "dist/index.js"]

# ============================================
# BEISPIEL 6: Vite App (React/Vue/Svelte) mit Nginx
# ============================================
# FROM node:20-alpine AS builder
# WORKDIR /app
# COPY package*.json ./
# RUN npm ci
# COPY . .
# RUN npm run build
# 
# FROM nginx:alpine
# COPY --from=builder /app/dist /usr/share/nginx/html
# EXPOSE 80
# CMD ["nginx", "-g", "daemon off;"]

# ============================================
# HINWEISE:
# ============================================
# 1. Entfernen Sie die Kommentarzeichen (#) für das gewünschte Beispiel
# 2. Passen Sie Pfade und Befehle an Ihre App-Struktur an
# 3. Stellen Sie sicher, dass der EXPOSE Port mit APP_PORT in .env übereinstimmt
# 4. Für Nginx-basierte Apps: Erstellen Sie eine nginx.conf wenn nötig
# 5. Multi-Stage Builds reduzieren die finale Image-Größe erheblich
